{
  "name": "multisource scraping",
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "multi-source-scrape",
        "authentication": "basicAuth",
        "options": {}
      },
      "id": "002c27bc-dca0-4718-9783-22dc658c1195",
      "name": "Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1,
      "position": [
        -512,
        192
      ],
      "webhookId": "multi-source-scrape",
      "credentials": {
        "httpBasicAuth": {
          "id": "z9ySVpOBCzgBnKbM",
          "name": "Basic Auth Scraper"
        }
      }
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.sources.platform }}",
                    "rightValue": "youtube",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
},
      "credentials": {
        "apifyApi": {
          "id": "zgZrzwrt52ADOrF3",
          "name": "Apify account"
        }
      },
      "disabled": false
    },
    {
      "parameters": {
        "actorId": {
          "__rl": true,
          "value": "OtzYfK1ndEGdwWFKQ",
          "mode": "list",
          "cachedResultName": "TikTok Data Extractor (clockworks/free-tiktok-scraper)",
          "cachedResultUrl": "https://console.apify.com/actors/OtzYfK1ndEGdwWFKQ/input"
        },
        "customBody": "={{ $json.sources.configuration }}"
      },
      "type": "@apify/n8n-nodes-apify.apify",
      "typeVersion": 1,
      "position": [
        176,
        96
      ],
      "id": "06ab480a-618f-4f69-a92b-96e41bfb7b1b",
      "name": "tiktok scrape",
      "credentials": {
        "apifyApi": {
          "id": "zgZrzwrt52ADOrF3",
          "name": "Apify account"
        }
      },
      "disabled": false
    },
    {
      "parameters": {
        "actorId": {
          "__rl": true,
          "value": "shu8hvrXbJbY3Eb9W",
          "mode": "list",
          "cachedResultName": "Instagram Scraper (apify/instagram-scraper)",
          "cachedResultUrl": "https://console.apify.com/actors/shu8hvrXbJbY3Eb9W/input"
        },
        "customBody": "={{ $json.sources.configuration }}"
      },
      "type": "@apify/n8n-nodes-apify.apify",
      "typeVersion": 1,
      "position": [
        176,
        288
      ],
      "id": "8a8203af-6373-4776-ab66-dcc52163d26c",
      "name": "instagram scrape",
      "credentials": {
        "apifyApi": {
          "id": "zgZrzwrt52ADOrF3",
          "name": "Apify account"
        }
      },
      "disabled": false
    }
  ],
  "pinData": {
    "Webhook": [
      {
        "json": {
          "user_id": 1,
          "run_id": 123,
          "extraction_prompt": "Extract location information, business mentions, contact details, and other relevant data from social media posts. Adapt to the specific platform and content type.",
          "sources": [
            {
              "platform": "youtube",
              "sourceType": "youtube-search",
              "configuration": {
                "searchQueries": [
                  "python tutorials",
                  "django development"
                ],
                "maxResults": 50,
                "maxResultsShorts": 0,
                "maxResultStreams": 0,
                "sortingOrder": "relevance",
                "dateFilter": "month",
                "videoType": "video",
                "lengthFilter": "between420",
                "qualityFilters": {
                  "isHD": true,
                  "hasSubtitles": true,
                  "hasCC": false,
                  "is3D": false,
                  "isLive": false,
                  "is4K": false,
                  "is360": false,
                  "hasLocation": false,
                  "isHDR": false,
                  "isVR180": false,
                  "isBought": false
                },
                "subtitleOptions": {
                  "language": "en",
                  "downloadSubtitles": false,
                  "saveSubsToKVS": false,
                  "preferAutoGeneratedSubtitles": false,
                  "subtitlesFormat": "srt"
                }
              },
              "searchQueries": [
                "python tutorials",
                "django development"
              ]
            },
            {
              "platform": "instagram",
              "sourceType": "instagram-profile",
              "configuration": {
                "directUrls": [
                  "https://instagram.com/example_profile",
                  "https://instagram.com/another_profile"
                ],
                "resultsType": "posts",
                "resultsLimit": 50,
                "onlyPostsNewerThan": "30 days",
                "isUserTaggedFeedURL": false,
                "isUserReelFeedURL": false,
                "addParentData": false
              },
              "directUrls": [
                "https://instagram.com/example_profile",
                "https://instagram.com/another_profile"
              ]
            },
            {
              "platform": "tiktok",
              "sourceType": "tiktok-hashtag",
              "configuration": {
                "hashtags": [
                  "coding",
                  "programming",
                  "tech"
                ],
                "resultsPerPage": 50,
                "profileScrapeSections": [
                  "videos"
                ],
                "profileSorting": "latest",
                "excludePinnedPosts": false,
                "shouldDownloadVideos": false,
                "shouldDownloadCovers": false,
                "shouldDownloadSubtitles": false,
                "shouldDownloadSlideshowImages": false
              },
              "hashtags": [
                "coding",
                "programming",
                "tech"
              ]
            }
          ],
          "daysSince": 14,
          "maxResults": 50,
          "auto_infer_columns": true,
          "custom_columns": [],
          "enable_extraction": true
        }
      }
    ]
  },
  "connections": {
    "Webhook": {
      "main": [
        [
          {
            "node": "Code",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code": {
      "main": [
        [
          {
            "node": "Switch",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch": {
      "main": [
        [
          {
            "node": "youtube scrape",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "tiktok scrape",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "instagram scrape",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Error: Invalid Source",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "3c83f2d2-472b-4411-beba-9bee3475be1f",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "6111e667fb260e03f3f61db7495ce953c5edf27cc92b44562178587f6683c693"
  },
  "id": "XKmvY7OoI2VLpAem",
  "tags": []
}